<div class="admin-dashboard">
  <div class="dashboard-header">
    <h2>Yönetim Paneli</h2>
  </div>

  <div class="stats-grid">
    <div class="stat-card">
      <div class="stat-icon">
        <i class="fas fa-users"></i>
      </div>
      <div class="stat-info">
        <h3>Toplam Kullanıcı</h3>
        <p>{{ userCount }}</p>
      </div>
    </div>

    <div class="stat-card">
      <div class="stat-icon">
        <i class="fas fa-utensils"></i>
      </div>
      <div class="stat-info">
        <h3>Toplam Restoran</h3>
        <p>{{ restaurantCount }}</p>
      </div>
    </div>

    <div class="stat-card">
      <div class="stat-icon">
        <i class="fas fa-shopping-cart"></i>
      </div>
      <div class="stat-info">
        <h3>Toplam Sipariş</h3>
        <p>{{ orderCount }}</p>
      </div>
    </div>

    <div class="stat-card">
      <div class="stat-icon">
        <i class="fas fa-money-bill-wave"></i>
      </div>
      <div class="stat-info">
        <h3>Toplam Kazanç</h3>
        <p>{{ totalRevenue | currency : "TRY" : "symbol-narrow" : "1.2-2" }}</p>
      </div>
    </div>
  </div>

  <div class="charts-grid">
    <div class="chart-card">
      <h3>Aylık Sipariş İstatistikleri</h3>
      <canvas #orderChart></canvas>
    </div>

    <div class="chart-card">
      <h3>Gelir Analizi</h3>
      <canvas #revenueChart></canvas>
    </div>
  </div>

  <div class="recent-orders">
    <h3>Son Siparişler</h3>
    <div class="table-container">
      <table>
        <thead>
          <tr>
            <th>Sipariş No</th>
            <th>Müşteri</th>
            <th>Restoran</th>
            <th>Tutar</th>
            <th>Durum</th>
            <th>Tarih</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let order of recentOrders">
            <td>{{ order.orderNumber }}</td>
            <td>{{ order.userName }}</td>
            <td>{{ order.restaurantName }}</td>
            <td>
              {{
                order.totalAmount | currency : "TRY" : "symbol-narrow" : "1.2-2"
              }}
            </td>
            <td>
              <span
                class="status-badge"
                [class]="'status-' + order.status.toLowerCase()"
              >
                {{ order.status }}
              </span>
            </td>
            <td>{{ order.orderDate | date : "dd/MM/yyyy HH:mm" }}</td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>
